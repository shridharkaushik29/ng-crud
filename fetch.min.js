!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2);t.default="ngCrudFetch";var a=function(e,t,n){var r;!i.isObject(t)||((r=t)instanceof File||r instanceof Blob)?n&&void 0!==t&&e.append(n,!1===t||t?t:""):i.each(t,function(t,r){a(e,t,n?n+"["+r+"]":r)})};FormData.prototype.merge=function(e){return a(this,e),this},URLSearchParams.prototype.merge=function(e){return a(this,e),this},o.module("ngCrudFetch",["ngCrud"]).config(["$crudProvider",function(e){e.config(function(e){return e.callbacks.sendRequest=["$q","$options","$injector",function(e,t,n){var o=this;return e(function(e,i){var a=r({checkDataType:!0,notify:!0},o.$config,t),u=a.data,c=a.callbacks,s=void 0===c?{}:c,f=a.method,l=void 0===f?"get":f,d=a.baseUrl,p=void 0===d?"":d,v=a.url,y=a.redirectTo,h=a.showProgress,g=void 0===h||h,m=a.prefix,b=void 0===m?"":m,x=a.suffix,O=void 0===x?"":x,j=a.extension,P=void 0===j?"":j,k=a.checkDataType,$=a.reload,_=s.loading,S=s.reload,w=s.redirect,F=s.checkSuccess,T=s.notify,D=r({headers:{},credentials:"include"},a.ajaxOptions);D.method=l;var C=p+b+v+O+P;if("post"===l.toLowerCase()&&!(u instanceof FormData)){var M=(new FormData).merge(u);D.body=M}if(D.body instanceof FormData)D.method="post";else if(u){C+="?"+(new URLSearchParams).merge(u)}g&&_&&n.invoke(_,o,{$value:!0}),fetch(C,D).then(function(e){return new Promise(function(t,n){200===e.status?t(e.text()):n(e)})}).then(function(t){var r;try{r=JSON.parse(t)}catch(e){r=t}if(g&&_&&n.invoke(_,o,{$value:!1}),"get"!==l.toLowerCase()&&F){if(F){k&&n.invoke(F,o,{$data:r})?(e(r),y&&w&&w(y,r)||$&&S&&S()):k?i(r):e(r);var u={type:r.type,message:r.message};a.notify&&T&&n.invoke(T,o,{$options:u})}}else e(r)},function(e){g&&_&&n.invoke(_,o,{$value:!1});var t={type:"error"};t.message=e.statusText?e.status+": "+e.statusText:e,a.notify&&T&&n.invoke(T,o,{$options:t}),i(e)})})}],e})}])},function(e,t){e.exports=angular},function(e,t){e.exports=_}]);