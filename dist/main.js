!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){"use strict";t.a=angular.module("ngCrud",["ngSmoothSubmit"])},function(e,t,r){"use strict";r.r(t);var o=["$mdDialog","$options","$rootScope","$q",(e,t,r,o)=>{var n={clickOutsideToClose:!0};_.merge(n,t),n.scope||(n.scope=r.$new());var i=o.defer();n.scope=_.merge(n.scope,n.scopes),n.scope.hide=e.hide,n.scope.cancel=e.cancel,n.scope.notify=i.notify;var s=e.show(n);return s.cancel=e.cancel,s.hide=e.hide,s.notify=e.notify,s.then(i.resolve,i.reject),i.promise}],n=["$mdToast","$options",(e,t)=>{var r,o=t.type;void 0!==o?("success"===o?r="Success: ":"error"===o&&(r="Error: "),r+=t.message):r=t.message;var n=_.merge({textContent:r,position:"bottom right",action:"Hide"},t),i=e.simple(n).textContent(t.textContent||r);return e.show(i)}],i=["$mdDialog","$options",(e,t)=>{var r={ok:"Okay!",multiple:!0};_.merge(r,t),r.data&&(r.data.type,r.textContent="Success: ",r.textContent+=r.data.message);var o=e.alert(r).textContent(r.textContent||r.message);return e.show(o)}],s=["$mdDialog","$options","$q",(e,t,r)=>{var o={title:"Are you sure?",textContent:"This action won't be reversed",ok:"Yes! Sure",cancel:"No I'm Not",multiple:!0};_.merge(o,t);var n=e.confirm(o);return e.show(n)}],a=["$mdDialog","$options",(e,t)=>{var r={ok:"Submit",cancel:"Cancel",multiple:!0,placeholder:"Type here..."};_.merge(r,t);var o=e.prompt(r);return e.show(o)}],u={};r(0).a.provider("$crud",[function(){var e={request:{progressModel:"progress",baseUrl:null,preferRemote:!1,notify:{action:"Close"}},dataServices:{},dialogPresets:u,drivers:{notify:n,dialog:o,alert:i,confirm:s,prompt:a}},t=function(t){e.request.progressModel=t};this.setBaseUrl=function(t){return function(t){e.request.baseUrl=t}(t),this},this.setDialogPreset=function(t,r){return function(t,r){e.dialogPresets[t]=r}(t,r),this},this.setDriver=function(t,r){return e.drivers[t]=r,this},this.dataService=function(t,r){return e.dataServices[t]=r,this},this.$get=["$smoothSubmit","$q","$injector","$location","$rootScope","$parse",(r,o,n,i,s,a)=>{var u,c;n.has("$route")&&(c=n.get("$route")),n.has("$state")&&(u=n.get("$state")),n.has("$mdDialog")&&n.get("$mdDialog"),n.has("$files")&&n.get("$files"),n.has("$mdToast")&&n.get("$mdToast"),n.has("$modal")&&n.get("$modal");var l={};return l.setProgressIndicator=t,l.send=function(t,f,g){var d={};_.merge(d,e.request,g);var v=d.progressModel;v&&a(v).assign(s,!0);var p=o.defer();return o((o,i)=>{e.dataServices[t]&&!d.preferRemote?n.invoke(e.dataServices[t],this,{$params:f,$options:d}).then(o,i):r[d.requestType](d.baseUrl+t,f,d.smoothSubmitOptions).then(o,i)}).then(e=>{v&&a(v).assign(s,!1),d.notify&&l.notify(_.merge({},d.notify,e)),d.checkDataType?"success"===e.type?(d.reload?u?u.reload():c?c.reload():window.location.reload():d.goto&&(u?u.go(d.goto):c?i.url(d.goto):window.location=d.goto),p.resolve(e)):p.notify(e):p.resolve(e)},e=>{v&&a(v).assign(s,!1);var t={type:"error",message:e.status+" : "+e.statusText,error:e};d.notify&&l.notify(_.merge({},d.notify,t)),p.reject(t)}),p.promise},l.create=function(e,t,r){var o={checkDataType:!0,notify:!0,requestType:"$post"};return _.merge(o,r),l.send("create/"+e,t,o)},l.retrieve=function(e,t,r){var o={checkDataType:!1,notify:!1,requestType:"$get"};return _.merge(o,r),this.send("retrieve/"+e,t,o).then(e=>(o.scope&&_(e).forEach((e,t)=>{o.scope[t]=e}),e))},l.update=function(e,t,r){var o={checkDataType:!0,notify:!0,requestType:"$post"};return _.merge(o,r),this.send("update/"+e,t,o)},l.remove=function(e,t,r){var n={checkDataType:!0,notify:!0,requestType:"$delete"};_.merge(n,r),o((e,t)=>{n.confirm?this.confirm(n.confirm).then(e,t):e(!0)}).then(()=>this.send("delete/"+e,t,n))},l.delete=l.remove,l.confirm=function(t){return n.invoke(e.drivers.confirm,this,{$options:t})},l.prompt=function(t){return n.invoke(e.drivers.prompt,this,{$options:t})},l.notify=function(t){return n.invoke(e.drivers.notify,this,{$options:t})},l.alert=function(t){return n.invoke(e.drivers.alert,this,{$options:t})},l.dialog=function(t,r){var o=_.clone(e.dialogPresets[t]);_.isArray(o)&&(o=n.invoke(o,this,{$options:r}));var i=_.merge(o,r);return n.invoke(e.drivers.dialog,this,{$options:i})},l.chooseFile=function(e){return n.get("$files").choose(e)},l.login=function(e,t){return n.get("$user").login(e,t)},l.logout=function(e,t){return n.get("$user").logout(e,t)},l}]}])},function(e,t,r){"use strict";r.r(t),r(0).a.provider("$user",function(){var e="$user",t={retrieveUser:["$crud",e=>e.retrieve("user").then(e=>e.user)],login:["$crud","$params",(e,t)=>e.login(t)],logout:["$crud","$params",(e,t)=>e.logout(t)]};this.setRequests=function(e){_.merge(t,e)},this.$get=["$rootScope","$parse","$crud","$injector","$q",function(r,o,n,i,s){var a,u=e,c={};return i.has("$transitions")&&(a=i.get("$transitions")),c.retrieve=function(e){return i.invoke(t.retrieveUser,this,{$params:e}).then(e=>(c.set(e),e))},c.get=(()=>r.$eval(u)),c.set=(e=>(o(u).assign(r,e),this)),c.protectRoutes=function(e){var t=_.merge({defaultState:"profile",checkLogin:()=>s((e,t)=>{c.retrieve().then(r=>{r?e(r):t()})}),loginAction:e=>e.router.stateService.target("login",{goto:e.to().name})},e);if(a){var r=i.get("$stateParams");a.onEnter({},function(e){if(!0===e.to().loggedIn||!0===e.to().loggedOut)return t.checkLogin(e).then(function(){if(!0===e.to().loggedOut){var o=r.goto||t.defaultState;return e.router.stateService.target(o,{},{location:"replace"})}},function(){if(!0===e.to().loggedIn&&t.loginAction)return t.loginAction(e)})})}},c.login=function(e,t){var r={request:{reload:!0,requestType:"$post",checkDataType:!0}};return _.merge(r,t),n.send("login",e,r.request).then(function(e){return void 0!==e.user&&c.set(e.user),e})},c.logout=function(e,t){var r=_.merge({request:{reload:!0,requestType:"$post",checkDataType:!0}},t);return n.send("logout",e,r.request).then(function(e){return c.remove(),e})},c.remove=function(){o(u).assign(void 0,r)},c}]})},function(e,t,r){"use strict";r.r(t),r(0).a.directive("logout",["$user",function(e){return{link:function(t,r){r.on("click",function(){e.logout().then(function(e){t.$eval(r.attr("on-logout"),{$data:e})})})}}}]).directive("dialogTrigger",["$crud",function(e){return{restrict:"A",link:function(t,r){r.on("click",function(o){var n=r.attr("dialog-preset"),i=t.$eval(r.attr("dialog-options"))||{},s=t.$eval(r.attr("dialog-scopes"));i.targetEvent=o,i.scopes=s,n&&function(o,n){e.dialog(o,n).then(function(e){t.$eval(r.attr("dialog-resolve"),{$data:e})},function(e){t.$eval(r.attr("dialog-reject"),{$data:e})},function(e){t.$eval(r.attr("dialog-notify"),{$data:e})})}(n,i)})}}}]).directive("crudRemove",["$crud",function(e){return{link:function(t,r){var o=function(o,n){e.remove(o,n).then(function(e){t.$eval(r.attr("on-resolve"),{$data:e})},function(e){t.$eval(r.attr("on-reject"),{$data:e})})};r.on("click",function(n){var i=t.$eval(r.attr("confirm")),s=r.attr("crud-remove"),a=t.$eval(r.attr("params"));if(i){var u=_.merge({},i);_.isFunction(i)?i(u).then(function(){o(s,a)}):(u.targetEvent=n,e.confirm(u).then(function(){o(s,a)}))}else o(s,a)})}}}])},function(e,t,r){r(3),r(2),r(1)}]);