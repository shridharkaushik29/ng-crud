!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){"use strict";t.a=angular.module("ngCrud",["ngSmoothSubmit"])},function(e,t,r){"use strict";r.r(t);var o=["$mdDialog","$options","$rootScope","$q",(e,t,r,o)=>{var n={clickOutsideToClose:!0};_.merge(n,t),n.scope||(n.scope=r.$new());var i=o.defer();n.scope=_.merge(n.scope,n.scopes),n.scope.hide=e.hide,n.scope.cancel=e.cancel,n.scope.notify=i.notify;var a=e.show(n);return a.cancel=e.cancel,a.hide=e.hide,a.notify=e.notify,a.then(i.resolve,i.reject),i.promise}],n=["$mdToast","$options",(e,t)=>{var r,o=t.type;void 0!==o?("success"===o?r="Success: ":"error"===o&&(r="Error: "),r+=t.message):r=t.message;var n=_.merge({textContent:r,position:"bottom right",action:"Hide"},t),i=e.simple(n).textContent(t.textContent||r);return e.show(i)}],i=["$mdDialog","$options",(e,t)=>{var r={ok:"Okay!",multiple:!0};_.merge(r,t),r.data&&(r.data.type,r.textContent="Success: ",r.textContent+=r.data.message);var o=e.alert(r).textContent(r.textContent||r.message);return e.show(o)}],a=["$mdDialog","$options","$q",(e,t,r)=>{var o={title:"Are you sure?",textContent:"This action won't be reversed",ok:"Yes! Sure",cancel:"No I'm Not",multiple:!0};_.merge(o,t);var n=e.confirm(o);return e.show(n)}],s=["$mdDialog","$options",(e,t)=>{var r={ok:"Submit",cancel:"Cancel",multiple:!0,placeholder:"Type here..."};_.merge(r,t);var o=e.prompt(r);return e.show(o)}],u={};r(0).a.provider("$crud",[function(){var e={request:{progressModel:"progress",baseUrl:null,preferRemote:!1,notify:{action:"Close"}},dataServices:{},dialogPresets:u,drivers:{notify:n,dialog:o,alert:i,confirm:a,prompt:s}},t=function(t){e.request.progressModel=t};this.setBaseUrl=function(t){return function(t){e.request.baseUrl=t}(t),this},this.setDialogPreset=function(t,r){return function(t,r){e.dialogPresets[t]=r}(t,r),this},this.setDriver=function(t,r){return e.drivers[t]=r,this},this.dataService=function(t,r){return e.dataServices[t]=r,this},this.$get=["$smoothSubmit","$q","$injector","$location","$rootScope","$parse",(r,o,n,i,a,s)=>{var u,c;n.has("$route")&&(c=n.get("$route")),n.has("$state")&&(u=n.get("$state")),n.has("$mdDialog")&&n.get("$mdDialog"),n.has("$files")&&n.get("$files"),n.has("$mdToast")&&n.get("$mdToast"),n.has("$modal")&&n.get("$modal");var l={};return l.setProgressIndicator=t,l.send=function(t,f,d){var g={};_.merge(g,e.request,d);var v=g.progressModel;v&&s(v).assign(a,!0);var p=o.defer();return o((o,i)=>{e.dataServices[t]&&!g.preferRemote?n.invoke(e.dataServices[t],this,{$params:f,$options:g}).then(o,i):r[g.requestType](g.baseUrl+t,f,g.smoothSubmitOptions).then(o,i)}).then(e=>{v&&s(v).assign(a,!1),g.notify&&l.notify(_.merge({},g.notify,e)),g.checkDataType?"success"===e.type?(g.reload?u?u.reload():c?c.reload():window.location.reload():g.goto&&(u?u.go(g.goto):c?i.url(g.goto):window.location=g.goto),p.resolve(e)):p.notify(e):p.resolve(e)},e=>{v&&s(v).assign(a,!1);var t={type:"error",message:e.status+" : "+e.statusText,error:e};g.notify&&l.notify(_({}).merge(g.notify,t)),p.reject(t)}),p.promise},l.create=function(e,t,r){var o={checkDataType:!0,notify:!0,requestType:"$post"};return _.merge(o,r),l.send("create/"+e,t,o)},l.retrieve=function(e,t,r){var o={checkDataType:!1,notify:!1,requestType:"$get"};return _.merge(o,r),this.send("retrieve/"+e,t,o).then(e=>(o.scope&&_(e).forEach((e,t)=>{o.scope[t]=e}),e))},l.update=function(e,t,r){var o={checkDataType:!0,notify:!0,requestType:"$post"};return _.merge(o,r),this.send("update/"+e,t,o)},l.remove=function(e,t,r){var n={checkDataType:!0,notify:!0,requestType:"$delete"};_.merge(n,r),o((e,t)=>{n.confirm?this.confirm(n.confirm).then(e,t):e(!0)}).then(()=>this.send("delete/"+e,t,n))},l.delete=l.remove,l.confirm=function(t){return n.invoke(e.drivers.confirm,this,{$options:t})},l.prompt=function(t){return n.invoke(e.drivers.prompt,this,{$options:t})},l.notify=function(t){return n.invoke(e.drivers.notify,this,{$options:t})},l.alert=function(t){return n.invoke(e.drivers.alert,this,{$options:t})},l.dialog=function(t,r){var o=e.dialogPresets[t];_.isArray(o)&&(o=n.invoke(o,this,{$options:r}));var i=_.merge(o,r);return n.invoke(e.drivers.dialog,this,{$options:i})},l.chooseFile=function(e){return n.get("$files").choose(e)},l.login=function(e,t){return n.get("$user").login(e,t)},l.logout=function(e,t){return n.get("$user").logout(e,t)},l}]}])},function(e,t,r){"use strict";r.r(t),r(0).a.factory("$user",["$rootScope","$parse","$crud","$injector",function(e,t,r,o){var n,i={};return o.has("$transitions")&&(n=o.get("$transitions")),i.retrieve=function(){return r.retrieve("user").then(function(e){var t=e.user;return i.set(t),t})},i.get=function(){return e.$eval("$user")},i.set=function(r){t("$user").assign(e,r)},i.protectRoutes=function(e){var t=_.merge({defaultState:"profile",loginState:"login"},e);if(n){var r=o.get("$stateParams");n.onEnter({},function(e){if(!0===e.to().loggedIn||!0===e.to().loggedOut)return i.retrieve().then(function(o){if(!0===e.to().loggedOut&&o){var n=r.goto||t.defaultState;return e.router.stateService.target(n,{},{location:"replace"})}if(!o&&!0===e.to().loggedIn)return e.router.stateService.target(t.loginState,{goto:e.to().name})},function(r){return e.router.stateService.target(t.loginState,{goto:e.to().name})})})}},i.login=function(e,t){var o={request:{reload:!0,requestType:"$post",checkDataType:!0}};return _.merge(o,t),r.send("login",e,o.request).then(function(e){return void 0!==e.user&&i.set(e.user),e})},i.logout=function(e,t){var o=_.merge({request:{reload:!0,requestType:"$post",checkDataType:!0}},t);return r.send("logout",e,o.request).then(function(e){return i.remove(),e})},i.remove=function(){t("$user").assign(void 0,e)},i}])},function(e,t,r){"use strict";r.r(t),r(0).a.directive("logout",["$user",function(e){return{link:function(t,r){r.on("click",function(){e.logout().then(function(e){t.$eval(r.attr("on-logout"),{$data:e})})})}}}]).directive("dialogTrigger",["$crud",function(e){return{restrict:"A",link:function(t,r){r.on("click",function(o){var n=r.attr("dialog-preset"),i=t.$eval(r.attr("dialog-options"))||{},a=t.$eval(r.attr("dialog-scopes"));i.targetEvent=o,i.scopes=a,n&&function(o,n){e.dialog(o,n).then(function(e){t.$eval(r.attr("dialog-resolve"),{$data:e})},function(e){t.$eval(r.attr("dialog-reject"),{$data:e})},function(e){t.$eval(r.attr("dialog-notify"),{$data:e})})}(n,i)})}}}]).directive("crudRemove",["$crud",function(e){return{link:function(t,r){var o=function(o,n){e.remove(o,n).then(function(e){t.$eval(r.attr("on-resolve"),{$data:e})},function(e){t.$eval(r.attr("on-reject"),{$data:e})})};r.on("click",function(n){var i=t.$eval(r.attr("confirm")),a=r.attr("crud-remove"),s=t.$eval(r.attr("params"));if(i){var u=_.merge({},i);_.isFunction(i)?i(u).then(function(){o(a,s)}):(u.targetEvent=n,e.confirm(u).then(function(){o(a,s)}))}else o(a,s)})}}}])},function(e,t,r){r(3),r(2),r(1)}]);